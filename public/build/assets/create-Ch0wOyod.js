$(document).ready(function(){$("#roomNumber").on("input",function(){var t=$("#target_url").data("route"),r=$(this).val();(r=="0"||r=="")&&$("#selectedOrderId").val(""),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:t,method:"POST",data:{roomNumber:r},success:function(a){var o=$("#result");o.empty(),a.length>0?$.each(a,function(e,n){var c=new Date(n.check_in_date),s=("0"+c.getDate()).slice(-2)+"-"+("0"+(c.getMonth()+1)).slice(-2)+"-"+c.getFullYear(),l='<li class="list-group-item" data-order-id="'+n.order_id+'"><b>'+s+" | "+n.first_name+" "+n.last_name+"</b></li>";o.append(l)}):o.append('<li class="list-group-item">No resuls found</li>')},error:function(a,o,e){console.error(e)}})}),$(document).on("click","#result .list-group-item",function(){$("#result .list-group-item").removeClass("active"),$(this).addClass("active");var t=$(this).data("order-id");$("#selectedOrderId").val(t)});const i=$("#documentCountry").val();i&&$("#countryCode").val(i),$.ajax({url:"https://restcountries.com/v3.1/all",method:"GET",success:function(t){const r=$("#countryCode");t.sort(function(o,e){return o.name.common.localeCompare(e.name.common)}),$.each(t,function(o,e){const n=e.callingCodes?e.callingCodes[0]:"",c=n?` (+${n})`:"",s=$("<option>").val(e.cca2).text(e.name.common+c);r.append(s)});const a=$("#documentCountry").val();a&&r.val(a)},error:function(t){console.error("Error fetching countries:",t)}})});
