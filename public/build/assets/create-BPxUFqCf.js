$(document).ready(function(){$("#roomNumber").on("input",function(){var e=$("#target_url").data("route"),n=$(this).val();(n=="0"||n=="")&&$("#selectedOrderId").val(""),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:e,method:"POST",data:{roomNumber:n},success:function(r){var a=$("#result");a.empty(),r.length>0?$.each(r,function(t,o){var c=new Date(o.check_in_date),s=("0"+c.getDate()).slice(-2)+"-"+("0"+(c.getMonth()+1)).slice(-2)+"-"+c.getFullYear(),l='<li class="list-group-item" data-order-id="'+o.order_id+'"><b>'+s+" | "+o.first_name+" "+o.last_name+"</b></li>";a.append(l)}):a.append('<li class="list-group-item">No resuls found</li>')},error:function(r,a,t){console.error(t)}})}),$(document).on("click","#result .list-group-item",function(){$("#result .list-group-item").removeClass("active"),$(this).addClass("active");var e=$(this).data("order-id");$("#selectedOrderId").val(e)});const i=$("#documentCountry").val();i&&$("#countryCode").val(i),$.ajax({url:"https://restcountries.com/v3.1/all",method:"GET",success:function(e){const n=$("#countryCode");$.each(e,function(a,t){const o=t.callingCodes?t.callingCodes[0]:"",c=o?` (+${o})`:"",s=$("<option>").val(t.cca2).text(t.name.common+c);n.append(s)});const r=$("#documentCountry").val();r&&n.val(r)},error:function(e){console.error("Error fetching countries:",e)}})});
